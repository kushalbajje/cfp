<div style="padding: 3rem;" *ngIf="outlet.isActivated == false">

  <div class="row no-gutters">
    <div class="col-12 d-flex my-auto justify-content-between">
      <div>
        <div class="d-flex">
          <p class="breadCrumbs-small" [routerLink]="['/sidenav/bookings']">Home</p>
          <p class="breadCrumbs-small pl-4" (click)="toggleManageBusiness();"
            [ngClass]="toggleManageBusinessBreadcrumb?'d-block':'d-none'">Manage business</p>
        </div>
        <div>
          <p class="breadCrumbs-large my-auto pt-2" [ngClass]="toggleHeading?'d-block':'d-none'">
            Manage business
          </p>
          <p class="breadCrumbs-large my-auto pt-2" [ngClass]="toggleAddNewBusiness?'d-block':'d-none'">
            Add new business
          </p>
          <p class="breadCrumbs-large my-auto pt-2" [ngClass]="togglePartnerDetails?'d-block':'d-none'">
            {{partnerName}}
          </p>
        </div>
      </div>

      <div>
        <button class="btn btn-lg buttonLarge" [ngClass]="toggleAddNewBusinessButton?'d-block':'d-none'"
          (click)="addNewBusiness();">ADD NEW BUSINESS</button>
      </div>
    </div>
  </div>

  <!-- Cards -->
  <div class="row no-gutters mt-5" [ngClass]="toggleCards?'d-flex':'d-none'">
    <div class="col-12 col-md-12 col-lg-4 p-3" *ngFor="let partner of partnersData">
      <div class="card p-4 d-flex flex-row" (click)="veiwBusinessDetails(partner)">
        <!-- <div class="card1" style="background-image: url({{partner.image}});width: 10vh;height: 10vh;border-radius: 50%;"></div> -->
        <img src="{{partner.image}}" class="my-auto" style="border-radius: 50%;height: 10vh;width: auto;" alt="">
        <div style="width: 100%;align-self: center;" class="font-medium2 p-4">{{partner.partnerName}}</div>
      </div>
    </div>
  </div>

  <!-- Add new business -->
  <div [ngClass]="toggleAddNewBusiness?'d-block':'d-none'">
    <form class="example-form ">
      <mat-form-field class="example-full-width w-100">
        <mat-label>Message</mat-label>
        <input matInput #message maxlength="256" placeholder="Search for vendor by name" [formControl]="myControl"
          [matAutocomplete]="auto" (keydown.enter)="navigateAddNewBusiness()">
        <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
          <mat-option *ngFor="let option of filteredOptions | async" [value]="option">
            {{option}}
          </mat-option>
        </mat-autocomplete>
      </mat-form-field>
    </form>
  </div>


  <!-- View details -->
  <div class="row no-gutters mt-5">
    <div class="col-12">
      <div class="container-fluid p-5 profile h-100" [ngClass]="togglePartnerDetails?'d-block':'d-none'">
        <div class="d-flex justify-content-between">
          <div class="title-medium">
            Profile settings
          </div>
          <button class="btn btn-sm close d-inline" (click)="closeViewBusinessDetails();">
            CLOSE X
          </button>
        </div>

        <!-- Basic information -->
        <div class="border-bottom pt-5">
          <p class="pb-2 font-medium2">Basic information</p>
          <div class="d-flex justify-content-between form-padding">
            <div class="w-25 justify-content-center">
              <img src="{{profilePic}}"
                style="border-radius: 50%;width: 80%;height: auto;max-width: 208px;max-height: 208px;" alt=""
                [ngClass]="toggleEditImage?'d-none':'d-flex'">
              <div
                style="background-color: #FAFAFA;height: 80%;width: 80%;border-radius: 50%;max-width: 208px;max-height: 208px;"
                class="flex-column justify-content-center align-items-center"
                [ngClass]="toggleEditImage?'d-flex':'d-none'" (click)="getProfilePic();">
                <img src="../../assets/images/uploading-files-to-the-cloud.svg" class="h-auto w-25" alt="">
                <p>Click here to upload</p>
              </div>
              <!-- <p class="text-center pt-2" (click)="openFileExplorer();">Edit Image</p> -->
              <!-- <input id="file" type="file" style="display: none;"> -->
            </div>
            <div class="w-75">
              <div class="d-flex justify-content-between my-4">
                <mat-form-field appearance="outline" class="three-input-fields">
                  <mat-label>Company name</mat-label>
                  <input matInput placeholder="Company name" [(ngModel)]="companyName"
                    [disabled]="isDisabled?'true':'false'">
                </mat-form-field>
                <mat-form-field appearance="outline" class="three-input-fields">
                  <mat-label>Phone number</mat-label>
                  <input matInput placeholder="Phone number" [(ngModel)]="phoneNumber"
                    [disabled]="isDisabled?'true':'false'">
                </mat-form-field>
                <mat-form-field appearance="outline" class="three-input-fields">
                  <mat-label>Alternate phone number</mat-label>
                  <input matInput placeholder="Alternate phone number" [(ngModel)]="alternatePhoneNumber"
                    [disabled]="isDisabled?'true':'false'">
                </mat-form-field>
              </div>
              <div class="d-flex justify-content-between my-4">
                <mat-form-field appearance="outline" class="three-input-fields">
                  <mat-label>Email address</mat-label>
                  <input matInput placeholder="Email address" [(ngModel)]="emailAddress"
                    [disabled]="isDisabled?'true':'false'">
                </mat-form-field>
                <mat-form-field appearance="outline" class="three-input-fields">
                  <mat-label>Alternate email address</mat-label>
                  <input matInput placeholder="Alternate email address" [(ngModel)]="alternateEmail"
                    [disabled]="isDisabled?'true':'false'">
                </mat-form-field>
                <mat-form-field appearance="outline" class="three-input-fields">
                  <mat-label>State</mat-label>
                  <mat-select [disabled]="isDisabled?'true':'false'">
                    <mat-option *ngFor="let state of states" [value]="state">{{state}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              <div class="d-flex w-100 my-4">
                <mat-form-field appearance="outline" class="three-input-fields">
                  <mat-label>City</mat-label>
                  <mat-select [disabled]="isDisabled?'true':'false'">
                    <mat-option *ngFor="let city of cities" [value]="city">{{city}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" style="width: 70%!important;padding-left: 3.3rem;">
                  <mat-label>Address</mat-label>
                  <textarea matInput placeholder="Address" rows="1" [(ngModel)]="address"
                    [disabled]="isDisabled?'true':'false'"></textarea>
                </mat-form-field>
              </div>
            </div>
          </div>
        </div>

        <!-- Billing and tax -->
        <div class="border-bottom pt-5">
          <p class="pb-2 font-medium2">Billing and tax </p>
          <div class="d-flex justify-content-between my-4">
            <mat-form-field appearance="outline" class="four-input-fields">
              <mat-label>PAN number</mat-label>
              <input matInput placeholder="PAN number" [(ngModel)]="panNumber" [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
            <mat-form-field appearance="outline" class="four-input-fields">
              <mat-label>GST type</mat-label>
              <input matInput placeholder="GST type" [(ngModel)]="gstType" [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
            <mat-form-field appearance="outline" class="four-input-fields">
              <mat-label>GSTIN number</mat-label>
              <input matInput placeholder="GSTIN number" [(ngModel)]="gstinNumber"
                [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
            <mat-form-field appearance="outline" class="four-input-fields">
              <mat-label>Service tax number</mat-label>
              <input matInput placeholder="Service tax number" [(ngModel)]="serviceTaxNumber"
                [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
          </div>
          <div class="d-flex justify-content-between my-4">
            <mat-form-field appearance="outline" class="four-input-fields ">
              <mat-label>Reverse charge applicable</mat-label>
              <mat-select [disabled]="isDisabled?'true':'false'">
                <mat-option *ngFor="let answer of conditional" [value]="answer">{{answer}}</mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline" class="four-input-fields ">
              <mat-label>TDS%</mat-label>
              <input matInput placeholder="TDS%" type="number" [(ngModel)]="tds" [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
            <mat-form-field appearance="outline" class="four-input-fields ">
              <mat-label>Invoice default due date</mat-label>
              <input matInput [matDatepicker]="invoice_due_date" [disabled]="isDisabled?'true':'false'">
              <mat-datepicker-toggle matSuffix [for]="invoice_due_date">
                <mat-icon matDatepickerToggleIcon>calendar_today</mat-icon>
              </mat-datepicker-toggle>
              <mat-datepicker #invoice_due_date></mat-datepicker>
            </mat-form-field>
            <mat-form-field appearance="outline" class="four-input-fields ">
              <mat-label>Surcharge%</mat-label>
              <input matInput placeholder="Surcharge%" type="number" [(ngModel)]="serviceTaxNumber"
                [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
          </div>

          <div class="d-flex justify-content-between my-4">
            <mat-form-field appearance="outline" class="three-input-fields">
              <mat-label>Default discount</mat-label>
              <input matInput placeholder="Default discount" type="number" [(ngModel)]="discount"
                [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
            <mat-form-field appearance="outline" class="three-input-fields">
              <mat-label>Default tax classification</mat-label>
              <mat-select [disabled]="isDisabled?'true':'false'">
                <mat-option *ngFor="let tax of taxList" [value]="tax">{{tax}}</mat-option>
              </mat-select>
            </mat-form-field>
            <mat-form-field appearance="outline" class="three-input-fields">
              <mat-label>Billing name</mat-label>
              <input matInput placeholder="Billing name" [(ngModel)]="billingName"
                [disabled]="isDisabled?'true':'false'">
            </mat-form-field>
          </div>
          <div class="d-flex justify-content-between my-4 form-padding">
            <mat-form-field appearance="outline" style="width: 65% !important;">
              <mat-label>Address</mat-label>
              <textarea matInput placeholder="Address" rows="1" [(ngModel)]="billingAddress"
                [disabled]="isDisabled?'true':'false'"></textarea>
            </mat-form-field>
            <mat-form-field appearance="outline" style="opacity: 0;" class="three-input-fields px-3">
              <mat-label>Address</mat-label>
              <textarea matInput placeholder="Address" rows="1" [disabled]="true"></textarea>
            </mat-form-field>
          </div>
        </div>

        <!-- Confgure fares -->
        <div class="pt-5">
          <p class="font-medium2 pb-2">Configure fares</p>
          <div class="my-4 form-padding">
            <!-- Rentals -->
            <mat-expansion-panel (click)="toggleStyle('one');" [ngClass]="isActive1?'panel-active1':'panel-not-active1'"
              style="border-top: 1px solid;align-items: flex-end !important;
             border-top-color: #DEE2E6;">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <span class="small-font">Rentals</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="small-font pb-2">
                Package details
              </div>
              <div class="my-4">
                <mat-form-field appearance="outline" class="pr-3" style="width: 25% !important;">
                  <mat-label>Vehicle category </mat-label>
                  <mat-select [disabled]="isDisabled?'true':'false'">
                    <mat-option *ngFor="let type of vehicleType" [value]="type">{{type}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="px-3" style="width: 25% !important;">
                  <mat-label>Package duration </mat-label>
                  <mat-select [disabled]="isDisabled?'true':'false'">
                    <mat-option *ngFor="let duration of packageDuration" [value]="duration">{{duration}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="px-3" style="width: 25% !important;">
                  <mat-label>Package duration </mat-label>
                  <mat-select [disabled]="isDisabled?'true':'false'">
                    <mat-option *ngFor="let km of packageKilometer" [value]="km">{{km}}</mat-option>
                  </mat-select>
                </mat-form-field>
                <mat-form-field appearance="outline" class="pl-3" style="width: 25% !important;">
                  <mat-label>Package cost</mat-label>
                  <input matInput type="number" [disabled]="isDisabled?'true':'false'" [(ngModel)]="packageCost">
                </mat-form-field>
              </div>

              <h3>
                +ADD MORE PACKAGE
              </h3>
              <p class="small-font">
                Extras
              </p>
              <div>
                <mat-form-field appearance="outline" class="pr-3" style="width: 30% !important;">
                  <mat-label>Additional kilometer</mat-label>
                  <input matInput [disabled]="isDisabled?'true':'false'" [(ngModel)]="additionalKilometer">
                </mat-form-field>
                <mat-form-field appearance="outline" class="pl-3" style="width: 30% !important;">
                  <mat-label>Additional hours</mat-label>
                  <input matInput [(ngModel)]="additionalHours" [disabled]="isDisabled?'true':'false'">
                </mat-form-field>
              </div>
              <div class="text-center py-4">
                <button class="btn btn-lg buttonLarge">
                  SAVE CHANGES
                </button>
              </div>
            </mat-expansion-panel>

            <!-- Airport -->
            <mat-expansion-panel (click)="toggleStyle('two');"
              [ngClass]="isActive2?'panel-active2':'panel-not-active2'">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <span class="small-font">Airport</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="small-font pb-2">
                Package details
              </div>
              <div class="my-4">
                <mat-form-field appearance="outline" class="pr-3" style="width: 25% !important;">
                  <mat-label>First name</mat-label>
                  <input matInput>
                </mat-form-field>
                <mat-form-field appearance="outline" class="px-3" style="width: 25% !important;">
                  <mat-label>First name</mat-label>
                  <input matInput>
                </mat-form-field>
                <mat-form-field appearance="outline" class="px-3" style="width: 25% !important;">
                  <mat-label>First name</mat-label>
                  <input matInput>
                </mat-form-field>
                <mat-form-field appearance="outline" class="pl-3" style="width: 25% !important;">
                  <mat-label>Age</mat-label>
                  <input matInput type="number" min="1">
                </mat-form-field>
              </div>

              <div class="text-center py-4">
                <button class="btn btn-lg buttonLarge">
                  SAVE CHANGES
                </button>
              </div>
            </mat-expansion-panel>

            <!-- Outstation -->
            <mat-expansion-panel (click)="toggleStyle('three');"
              [ngClass]="isActive3?'panel-active3':'panel-not-active3'">
              <mat-expansion-panel-header>
                <mat-panel-title>
                  <span class="small-font">Outstation</span>
                </mat-panel-title>
              </mat-expansion-panel-header>
              <div class="small-font pb-3">
                Package details
              </div>
              <mat-form-field appearance="outline" class="pr-3" style="width: 20% !important;">
                <mat-label>First name</mat-label>
                <input matInput>
              </mat-form-field>
              <mat-form-field appearance="outline" class="px-3" style="width: 20% !important;">
                <mat-label>First name</mat-label>
                <input matInput>
              </mat-form-field>
              <mat-form-field appearance="outline" class="px-3" style="width: 20% !important;">
                <mat-label>First name</mat-label>
                <input matInput>
              </mat-form-field>
              <mat-form-field appearance="outline" class="px-3" style="width: 20% !important;">
                <mat-label>Age</mat-label>
                <input matInput type="number" min="1">
              </mat-form-field>
              <mat-form-field appearance="outline" class="pl-3" style="width: 20% !important;">
                <mat-label>Age</mat-label>
                <input matInput type="number" min="1">
              </mat-form-field>

              <div class="text-center py-4">
                <button class="btn btn-lg buttonLarge">
                  SAVE CHANGES
                </button>
              </div>
            </mat-expansion-panel>
          </div>

        </div>

        <div class="text-center pt-4">
          <button class="btn btn-lg buttonLarge" (click)="editInformation();">
            EDIT DETAILS
          </button>
        </div>
      </div>
    </div>
  </div>

</div>
<router-outlet #outlet="outlet"></router-outlet>
